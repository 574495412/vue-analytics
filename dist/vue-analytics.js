/*! hash:4a0a3ba2684f7b09eb67 */
!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.VueAnalytics=n():e.VueAnalytics=n()}(window,function(){return function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){"use strict";t.r(n);var r={$vue:null,id:null,router:null,fields:{},ignoreRoutes:[],linkers:[],commands:{},disabled:!1,set:[],require:[],ecommerce:{enabled:!1,options:null,enhanced:!1},autoTracking:{screenview:!1,shouldRouterUpdate:null,skipSamePath:!1,exception:!1,exceptionLogs:!0,page:!0,transformQueryString:!0,pageviewOnLoad:!0,pageviewTemplate:null,untracked:!0,prependBase:!0},debug:{enabled:!1,trace:!1,sendHitTask:!0},batch:{enabled:!1,delay:500,amount:2},checkDuplicatedScript:!1,disableScriptLoader:!1,beforeFirstHit:l,ready:l,untracked:[]},o=Object.assign({},r);function i(e){!function e(n,t){Object.keys(t).forEach(function(r){n[r]&&"object"===u(n[r])?e(n[r],t[r]):n[r]=t[r]});return n}(o,e)}function a(){return o.id?[].concat(o.id):[]}var c=o,u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function l(){}function f(){return!(c.checkDuplicatedScript&&Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(e){return-1!==e.src.indexOf("analytics")||-1!==e.src.indexOf("gtag")}).length>0)}function d(e){return e.name||e.replace(/-/gi,"")}function s(){return new Promise(function(e,n){var t=setInterval(function(){"undefined"!=typeof window&&window.ga&&(e(),clearInterval(t))},10)})}function p(e,n){return a().length>1?d(n)+"."+e:e}var y=void 0,v=[];function m(e){for(var n=arguments.length,t=Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];"undefined"!=typeof window&&a().forEach(function(n){var r;c.batch.enabled?(v.push({m:p(e,n),a:t}),y||(y=setInterval(function(){v.length?v.splice(0,c.batch.amount).forEach(function(e){var n;(n=window).ga.apply(n,[e.m].concat(function(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}(e.a)))}):(clearInterval(y),y=null)},c.batch.delay))):(r=window).ga.apply(r,[p(e,n)].concat(t))})}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function h(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];"object"!==g(n[0])||n[0].constructor!==Object?m("set",n[0],n[1]):m("set",n[0])}var b=function(){2!=arguments.length?m("require",arguments.length<=0?void 0:arguments[0]):m("require",arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1])},w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k=function(){var e;c.set.forEach(function(e){var n=e.field,t=e.value;if(void 0===n||void 0===t)throw new Error('[vue-analytics] Wrong configuration in the plugin options.\nThe "set" array requires each item to have a "field" and a "value" property.');h(n,t)}),e=["ec","ecommerce"],c.require.forEach(function(n){if(-1!==e.indexOf(n)||-1!==e.indexOf(n.name))throw new Error("[vue-analytics] The ecommerce features are built-in in the plugin. \nFollow the ecommerce instructions available in the documentation.");if("string"!=typeof n&&"object"!==(void 0===n?"undefined":w(n)))throw new Error('[vue-analytics] Wrong configuration in the plugin options. \nThe "require" array requires each item to be a string or to have a "name" and an "options" property.');var t=n.name||n;n.options?b(t,n.options):b(t)})};function S(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];var r=n[0];if(1===n.length&&"string"==typeof r)return m("send","screenview",{screenName:r});m.apply(void 0,["send","screenview"].concat(n))}function x(){for(var e=void 0,n=arguments.length,t=Array(n),r=0;r<n;r++)t[r]=arguments[r];if(t.length&&t[0].currentRoute&&(e=t[0].currentRoute),t.length&&function(e){return e.query&&e.params}(t[0])&&(e=t[0]),e){var o=c.router,i=c.autoTracking,a=i.transformQueryString,u=i.prependBase,l=function(e){var n=Object.keys(e).reduce(function(n,t,r,o){var i=r===o.length-1;return n+=t+"="+e[t]+(i?"":"&")},"");return""!==n?"?"+n:""}(e.query),f=o&&o.options.base,d=u&&f,s=e.path+(a?l:"");h("page",s=d?function(e,n){var t=n.split("/"),r=e.split("/");return""===t[0]&&"/"===e[e.length-1]&&t.shift(),r.join("/")+t.join("/")}(f,s):s),m("send","pageview")}else m.apply(void 0,["send","pageview"].concat(t))}function A(e){if(n=e.name,-1===c.ignoreRoutes.indexOf(n)){var n,t=c.autoTracking,r=e.meta.analytics,o=(void 0===r?{}:r).pageviewTemplate||t.pageviewTemplate;if(t.screenview&&!e.name)throw new Error("[vue-analytics] Route name is mandatory when using screenview.");t.screenview?S(e.name):x(o?o(e):e)}}var E=function(){"undefined"!=typeof window&&a().forEach(function(e){window["ga-disable-"+e]=!0})},T=function(){if("undefined"!=typeof document&&"undefined"!=typeof window){c.wait;var e,n=c.id,t=c.disabled,r=c.debug,o=c.disableScriptLoader,u="https://www.google-analytics.com/"+(r.enabled?"analytics_debug":"analytics")+".js";if(!n)throw new Error('[vue-analytics] Missing the "id" parameter. Add at least one tracking domain ID');!f()||window.ga&&o||(e=u,new Promise(function(n,t){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");o.async=!0,o.src=e,o.charset="utf8",r.appendChild(o),o.onload=n,o.onerror=t})).catch(function(){console.error("[vue-analytics] An error occured trying to load "+u+". Please check your connection or if you have any Google Analytics blocker installed in your browser.")}),Promise.resolve("function"==typeof n?n():n).then(function(e){i({id:e})}).then(function(){return"function"==typeof t?t():t}).then(function(e){var n,t;i({disabled:e}),e&&E(),function(){var e=a();c.debug.enabled&&(window.ga_debug={trace:c.debug.trace}),e.forEach(function(n){var t=d(n),r=e.length>1?Object.assign({},c.fields,{name:t}):c.fields;window.ga("create",n.id||n,"auto",r)}),c.beforeFirstHit();var n=c.ecommerce;if(n.enabled){var t=n.enhanced?"ec":"ecommerce";n.options?m("require",t,n.options):m("require",t)}c.linkers.length>0&&(m("require","linker"),m("linker:autoLink",c.linkers)),c.debug.sendHitTask||h("sendHitTask",null)}(),k(),n=c.router,(t=c.autoTracking).page&&n&&(t.pageviewOnLoad&&A(n.currentRoute),c.router.afterEach(function(e,r){var o=t.skipSamePath,i=t.shouldRouterUpdate;o&&e.path===r.path||("function"!=typeof i||i(e,r))&&c.$vue.nextTick().then(function(){A(n.currentRoute)})}))})}};var j=function(e){m("send","exception",{exDescription:e,exFatal:arguments.length>1&&void 0!==arguments[1]&&arguments[1]})},O=j;var q=["addItem","addTransaction","addProduct","addImpression","setAction","addPromo","send"].reduce(function(e,n){return Object.assign({},e,(o=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var o;m.apply(void 0,[(o=n,(c.ecommerce.enhanced?"ec":"ecommerce")+":"+o)].concat(t))},(r=n)in(t={})?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,t));var t,r,o},{}),P={event:function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];m.apply(void 0,["send","event"].concat(n))},exception:O,page:x,query:m,require:b,set:h,social:function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];m.apply(void 0,["send","social"].concat(n))},time:function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];m.apply(void 0,["send","timing"].concat(n))},screenview:S,ecommerce:q,disable:E,commands:c.commands},R={inserted:function(e,n,t){var r=Object.keys(n.modifiers);0===r.length&&r.push("click"),r.forEach(function(r){e.addEventListener(r,function(){var e="string"==typeof n.value?c.commands[n.value]:n.value;if(!e)throw new Error("[vue-analytics] The value passed to v-ga is not defined in the commands list.");e.apply(t.context)})})}},L=function(){return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,n){var t=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw i}}return t}(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function I(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}var _=function(e){e.subscribe(function(e,n){if(e.payload&&e.payload.meta){var t=e.payload.meta.analytics;if(!Array.isArray(t))throw new Error('The "analytics" property needs to be an array');t.forEach(function(e){var n,t=void 0,r=e.shift(),o=e;if(r.includes(":")){var i=r.split(":"),a=L(i,2);r=a[0],t=a[1]}if(!(r in P))throw new Error('[vue-analytics:vuex] The type "'+r+"\" doesn't exist.");if(t&&!(t in P[r]))throw new Error('[vue-analytics:vuex] The type "'+r+'" has not method "'+t+'".');if("ecommerce"===r&&!t)throw new Error('[vue-analytics:vuex] The type "'+r+'" needs to call a method. Check documentation.');t?(n=P[r])[t].apply(n,I(o)):P[r].apply(P,I(o))})}})};t.d(n,"install",function(){return H}),t.d(n,"onAnalyticsReady",function(){return s}),t.d(n,"analyticsMiddleware",function(){return _});var H=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(Object.assign({},n,{$vue:e})),"undefined"==typeof window||window.ga||(window.ga=window.ga||function(){(window.ga.q=window.ga.q||[]).push(arguments)},window.ga.l=Number(new Date)),e.directive("ga",R),e.prototype.$ga=e.$ga=P,function(e){if(c.autoTracking.exception){window.addEventListener("error",function(e){j(e.message)});var n=e.config.errorHandler;e.config.errorHandler=function(e,t,r){j(e.message),c.autoTracking.exceptionLogs&&(console.error("[vue-analytics] Error in "+r+": "+e.message),console.error(e)),"function"==typeof n&&n.call(void 0,e,t,r)}}}(e),T()};n.default=H}])});